<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Services - Sparkitt</title>
    <meta name="description" content="Discover our comprehensive technology services and solutions">
    <meta name="keyword" content="Sparkitt, services, technology solutions, web development, mobile apps">
    <meta name="author" content="moawya nafash">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="refresh" content="900">

    <!-- Link CSS files -->
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/footer.css">
    <link rel="stylesheet" href="../assets/css/about.css">

</head>

<body>
    <!-- Include header -->
    <div id="header"></div>

    <!-- Page Content -->
    <div class="container">
        <div class="about-header">
            <h1>Our Services</h1>
            <p>Comprehensive technology solutions tailored to your business needs</p>
        </div>

        <div class="features">
            <div class="feature-card">
                <h3>Web Development</h3>
                <p>Custom web applications built with modern technologies and best practices for optimal performance and user experience.</p>
            </div>
            
            <div class="feature-card">
                <h3>Mobile Development</h3>
                <p>Native and cross-platform mobile applications that deliver exceptional user experiences across all devices.</p>
            </div>
            
            <div class="feature-card">
                <h3>Cloud Solutions</h3>
                <p>Scalable cloud infrastructure and migration services to help your business grow and adapt to changing demands.</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
        // Load header and footer
        fetch("header.html")
            .then(res => {
                if (!res.ok) {
                    throw new Error('Failed to load header');
                }
                return res.text();
            })
            .then(data => {
                document.getElementById("header").innerHTML = data;
                // Initialize scroll effect after header is loaded
                initScrollEffect();
            })
            .catch(error => {
                console.error('Error loading header:', error);
                // Add fallback header in case of loading failure
                document.getElementById("header").innerHTML = `
                    <header>
                        <div class="header-container">
                            <div class="logo">
                                <img src="../media/images/logo.png" alt="Logo" />
                            </div>
                            <nav class="nav-links">
                                <a href="../index.html">Home</a>
                                <a href="about.html">About Us</a>
                                <a href="services.html">Services</a>
                                <a href="case-study.html">Case Study</a>
                                <a href="profile.html">Company Profile</a>
                            </nav>
                            <div class="demo-btn">
                                <a href="book-demo.html">Book For Free Demo</a>
                            </div>
                        </div>
                    </header>
                `;
                // Initialize scroll effect after fallback header is loaded
                initScrollEffect();
            });

        fetch("footer.html")
            .then(res => {
                if (!res.ok) {
                    throw new Error('Failed to load footer');
                }
                return res.text();
            })
            .then(data => {
                document.getElementById("footer").innerHTML = data;
                // Load enhanced JavaScript
                const script = document.createElement('script');
                script.src = '../assets/js/header-footer.js';
                document.head.appendChild(script);
            })
            .catch(error => {
                console.error('Error loading footer:', error);
            });

        // Header scroll effect function
        function initScrollEffect() {
            let lastScrollTop = 0;
            let scrollTimeout;
            const header = document.querySelector('header');
            let ticking = false;

            function updateHeader() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollDelta = scrollTop - lastScrollTop;
                
                // Clear any existing timeout
                clearTimeout(scrollTimeout);
                
                if (scrollTop > 50) {
                    // Scrolling down - add compact mode first, then hide
                    if (scrollDelta > 0 && scrollTop > 100) {
                        header.classList.add('compact');
                        header.classList.remove('scrolled');
                        
                        // Hide header after a short delay
                        scrollTimeout = setTimeout(() => {
                            if (scrollTop > lastScrollTop) {
                                header.classList.remove('compact');
                                header.classList.add('scrolled');
                            }
                        }, 150);
                    } else if (scrollDelta < 0) {
                        // Scrolling up - show header immediately
                        header.classList.remove('scrolled', 'compact');
                    }
                } else {
                    // At top - always show header in normal mode
                    header.classList.remove('scrolled', 'compact');
                }
                
                lastScrollTop = scrollTop;
                ticking = false;
            }

            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(updateHeader);
                    ticking = true;
                }
            }

            // Add scroll event listener with throttling
            window.addEventListener('scroll', requestTick, { passive: true });
            
            // Add mouse movement detection to show header when hovering
            document.addEventListener('mousemove', (e) => {
                if (e.clientY < 100 && header.classList.contains('scrolled')) {
                    header.classList.remove('scrolled');
                    header.classList.add('compact');
                }
            });
        }
    </script>
</body>

</html>
