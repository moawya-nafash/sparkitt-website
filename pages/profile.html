<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile - Sparkitt</title>
  <link rel="stylesheet" href="../assest/css/profile.css">
  <link rel="stylesheet" href="../assest/css/header.css">
  <link rel="stylesheet" href="../assest/css/footer.css">
  <link rel="stylesheet" href="../assest/css/about.css">
  
  <style>
    body {
        padding-top: 60px;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <div id="header"></div>

  <!-- محتوى الصفحة -->
  <div class="container">
    <h1>Company Profile</h1>
    <p></p>
    <a href="../media/files/profile.pptx" class="download-btn" download>Download Company Profile</a>

    <!-- الصور المتحركة -->
<div class="slideshow">
  <img src="../media/image/Company Profile/photo(1).jpg" class="active" alt="Slide 1">
  <img src="../media/image/Company Profile/photo(2).jpg" alt="Slide 2">
  <img src="../media/image/Company Profile/photo(3).jpg" alt="Slide 3">
  <img src="../media/image/Company Profile/photo(4).jpg" alt="Slide 4">
  <img src="../media/image/Company Profile/photo(5).jpg" alt="Slide 5">
  <img src="../media/image/Company Profile/photo(6).jpg" alt="Slide 6">
  <img src="../media/image/Company Profile/photo(7).jpg" alt="Slide 7">
  <img src="../media/image/Company Profile/photo(8).jpg" alt="Slide 8">
  <img src="../media/image/Company Profile/photo(9).jpg" alt="Slide 9">
  <img src="../media/image/Company Profile/photo(10).jpg" alt="Slide 10">
  <img src="../media/image/Company Profile/photo(11).jpg" alt="Slide 11">
  <img src="../media/image/Company Profile/photo(12).jpg" alt="Slide 12">
  <img src="../media/image/Company Profile/photo(13).jpg" alt="Slide 13">
  <img src="../media/image/Company Profile/photo(14).jpg" alt="Slide 14">
  <img src="../media/image/Company Profile/photo(15).jpg" alt="Slide 15">
  <img src="../media/image/Company Profile/photo(16).jpg" alt="Slide 16">
  <img src="../media/image/Company Profile/photo(17).jpg" alt="Slide 17">
  <img src="../media/image/Company Profile/photo(18).jpg" alt="Slide 18">
  <img src="../media/image/Company Profile/photo(19).jpg" alt="Slide 19">
  <img src="../media/image/Company Profile/photo(20).jpg" alt="Slide 20">
  <img src="../media/image/Company Profile/photo(21).jpg" alt="Slide 21">
  <img src="../media/image/Company Profile/photo(22).jpg" alt="Slide 22">
  <img src="../media/image/Company Profile/photo(23).jpg" alt="Slide 23">
  <img src="../media/image/Company Profile/photo(24).jpg" alt="Slide 24">
  <img src="../media/image/Company Profile/photo(25).jpg" alt="Slide 25">
  <img src="../media/image/Company Profile/photo(26).jpg" alt="Slide 26">
</div>

  </div>

  <!-- Footer -->
  <div id="footer"></div>

  <script>
    // Load header and footer
    fetch("header.html")
        .then(res => {
            if (!res.ok) {
                throw new Error('Failed to load header');
            }
            return res.text();
        })
        .then(data => {
            document.getElementById("header").innerHTML = data;
            // Initialize scroll effect after header is loaded
            initScrollEffect();
        })
        .catch(error => {
            console.error('Error loading header:', error);
            // Add fallback header in case of loading failure
            document.getElementById("header").innerHTML = `
                <header>
                    <div class="header-container">
                        <div class="logo">
                            <img src="../media/image/logo.png" alt="Logo" />
                        </div>
                        <nav class="nav-links">
                            <a href="../index.html">Home</a>
                            <a href="about.html">About Us</a>
                            <a href="../services.html">Services</a>
                            <a href="../case-study.html">Case Study</a>
                            <a href="profile.html">Company Profile</a>
                        </nav>
                        <div class="demo-btn">
                            <a href="../book-demo.html">Book For Free Demo</a>
                        </div>
                    </div>
                </header>
            `;
            // Initialize scroll effect after fallback header is loaded
            initScrollEffect();
        });

    fetch("footer.html")
        .then(res => {
            if (!res.ok) {
                throw new Error('Failed to load footer');
            }
            return res.text();
        })
        .then(data => {
            document.getElementById("footer").innerHTML = data;
            // Load enhanced JavaScript
            const script = document.createElement('script');
            script.src = '../assest/js/header-footer.js';
            document.head.appendChild(script);
        })
        .catch(error => {
            console.error('Error loading footer:', error);
        });

    // Header scroll effect function
    function initScrollEffect() {
        let lastScrollTop = 0;
        let scrollTimeout;
        const header = document.querySelector('header');
        let ticking = false;

        function updateHeader() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollDelta = scrollTop - lastScrollTop;
            
            // Clear any existing timeout
            clearTimeout(scrollTimeout);
            
            if (scrollTop > 50) {
                // Scrolling down - add compact mode first, then hide
                if (scrollDelta > 0 && scrollTop > 100) {
                    header.classList.add('compact');
                    header.classList.remove('scrolled');
                    
                    // Hide header after a short delay
                    scrollTimeout = setTimeout(() => {
                        if (scrollTop > lastScrollTop) {
                            header.classList.remove('compact');
                            header.classList.add('scrolled');
                        }
                    }, 150);
                } else if (scrollDelta < 0) {
                    // Scrolling up - show header immediately
                    header.classList.remove('scrolled', 'compact');
                }
            } else {
                // At top - always show header in normal mode
                header.classList.remove('scrolled', 'compact');
            }
            
            lastScrollTop = scrollTop;
            ticking = false;
        }

        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(updateHeader);
                ticking = true;
            }
        }

        // Add scroll event listener with throttling
        window.addEventListener('scroll', requestTick, { passive: true });
        
        // Add mouse movement detection to show header when hovering
        document.addEventListener('mousemove', (e) => {
            if (e.clientY < 100 && header.classList.contains('scrolled')) {
                header.classList.remove('scrolled');
                header.classList.add('compact');
            }
        });
    }

    // الصور المتحركة (Slideshow)
    let slides = document.querySelectorAll(".slideshow img");
    let index = 0;

    setInterval(() => {
      slides[index].classList.remove("active");
      index = (index + 1) % slides.length;
      slides[index].classList.add("active");
    }, 2000);
  </script>
</body>
</html>
